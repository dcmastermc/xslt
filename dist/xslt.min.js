/*! xslt v0.1.0+0.master.19e7a2057e75 | (c) 2015 Justin Murray | built on 2015-06-23 */

(function(){var a=[].slice;!function(a,b){return"function"==typeof define&&null!=define.amd?define([],b):"object"==typeof("undefined"!=typeof module&&null!==module?module.exports:void 0)?module.exports=b():null!=a?a.xslt=b():void 0}(this,function(){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v;return j=function(a){return/^\s*</.test(a)},i=function(a){return/^\s*<\?/.test(a)},l=function(a){return j(a)&&!i(a)},v='<?xml version="1.0" ?>',n=function(a){return v+a},b="undefined"!=typeof ActiveXObject&&null!==ActiveXObject||"ActiveXObject"in window,u=function(){var c,d,e,f;if(f=1<=arguments.length?a.call(arguments,0):[],!b)return null;for(c=0,e=f.length;e>c;c++){d=f[c];try{return new ActiveXObject(d)}catch(g){}}return null},e=function(){var a;if(a=u.apply(null,["Msxml2.FreeThreadedDOMDocument.6.0","Msxml2.FreeThreadedDOMDocument.3.0","Msxml2.FreeThreadedDOMDocument","Microsoft.XMLDOM","Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.5.0","Msxml2.DOMDocument.4.0","Msxml2.DOMDocument.3.0","MSXML2.DOMDocument","MSXML.DOMDocument"]),null!=a)for(a.async=!1;4!==a.readyState;);return a},f=function(){return u.apply(null,["Msxml2.XSLTemplate.6.0","Msxml2.XSLTemplate"])},k=function(){var a,b;return b=document.createElement("xml"),b.src=v,document.body.appendChild(b),a=b.XMLDocument,document.body.removeChild(b),a},m=function(){var a,b;return a=null,null==a&&(a=e()),"undefined"!=typeof DOMParser&&null!==DOMParser?a:(null==a&&(a=k()),null==a&&(a=null!=(b=document.implementation)&&"function"==typeof b.createDocument?b.createDocument("","test",null):void 0),a)},o=function(a){var b,c,d,e,f;if("string"!=typeof a||!j(a))return null;if(l(a)&&(a=n(a)),b=m(),null!=b&&"loadXML"in b){if(b.loadXML(a),null==b.documentElement||0!==(null!=(c=b.parseError)?c.errorCode:void 0))throw new Error("loadXML error: "+b.parseError)}else if(null!=b&&"load"in b)b.load(a);else if("undefined"!=typeof DOMParser&&null!==DOMParser&&(b=null!=(d="function"==typeof DOMParser?new DOMParser:void 0)&&"function"==typeof d.parseFromString?d.parseFromString(a,"text/xml"):void 0,(null!=b&&"function"==typeof b.getElementsByTagName&&null!=(e=b.getElementsByTagName("parsererror"))?e.length:void 0)>0||"parsererror"===(null!=b&&null!=(f=b.documentElement)?f.nodeName:void 0)))throw new Error("Failed to load document from string:\r\n"+b.documentElement.textContent);return b},h=function(a){var b,c;return null==a?null:(c=(null!=a?a.xml:void 0)||("function"==typeof XMLSerializer&&null!=(b=new XMLSerializer)&&"function"==typeof b.serializeToString?b.serializeToString(a):void 0),(null!=c&&"function"==typeof c.indexOf?c.indexOf("<transformiix::result"):void 0)>=0&&(c=c.substring(c.indexOf(">")+1,c.lastIndexOf("<"))),c)},c=function(a,b){var c,d,e;for(c=0,d=a.length;d>c;c++)if(e=a[c],e===b)return!0;return!1},t=function(a){var b,d,e;return b=a.match(/^<([a-zA-Z0-9:\-]+)\s(?:\/(?!>)|[^>\/])*(\/?)>/),(null!=b?b.length:void 0)?(e=b[0],d=e.match(/xmlns(:[a-zA-Z0-9:\-]+)?="[^"]*"/g),e+a.substr(e.length).replace(/xmlns(:[a-zA-Z0-9:\-]+)?="[^"]*"/g,function(a){return c(d,a)?"":a})):a},q=function(a,b,c){var d,e,f,g,h;for(d=/([a-zA-Z0-9:\-]+)\s*=\s*("[^"]*")/g,e={},g=d.exec(a);g;)e[g[1]]=g[0],g=d.exec(a);f="<"+b;for(h in e)f+=" "+h;return f+=(c||"")+">"},s=function(a){return a.replace(/xmlns\s*=\s*""/gi,"")},p=function(a){return a.replace(/xmlns\s*=\s*"[^"]*"/gi,"")},r=function(a){var b,c,d,e;for(e=[],a=a.replace(/xmlns:NS([0-9]+)=""/gi,function(a,b){return e.push(b),""}),b=0,c=e.length;c>b;b++)d=e[b],a=a.replace(new RegExp("NS"+d+":xmlns:","g"),"xmlns:");return a},d=function(a,b){return a.replace(/<([a-zA-Z0-9:\-]+)\s*(?:\/(?!>)|[^>\/])*(\/?)>/g,function(a,c,d){return b.removeNamespacedNamespace&&(a=r(a)),b.removeNullNamespace&&(a=s(a)),b.removeAllNamespaces&&(a=p(a)),b.removeDupAttrs&&(a=q(a,c,d)),a})},g={fullDocument:!1,cleanup:!0,removeDupNamespace:!0,removeDupAttrs:!0,removeNullNamespace:!0,removeAllNamespaces:!1,removeNamespacedNamespace:!0},function(a,c,e){var i,j,k,l,m,n,p,q,r,s;i={};for(k in g)i[k]=g[k];if(null!=e)for(k in e)i[k]=e[k];if(p=o(a),s=o(c),null==p||null==s)return!1;if("undefined"!=typeof XSLTProcessor&&null!==XSLTProcessor&&null!=("undefined"!=typeof document&&null!==document&&null!=(m=document.implementation)?m.createDocument:void 0))l=new XSLTProcessor,l.importStylesheet(s),n=i.fullDocument?l.transformToDocument(p):l.transformToFragment(p,document);else{if("transformNode"in p)return p.transformNode(s);b&&(r=f(),r.stylesheet=s,q=r.createProcessor(),q.input=p,q.transform(),n=q.output)}return j=h(n),i.cleanup&&(j=d(j,i),i.removeDupNamespace&&(j=t(j))),j}})}).call(this);
//# sourceMappingURL=xslt.min.js.map