/*! xslt v0.4.0+0.master.ba4530b72c4a | (c) 2015 Justin Murray | built on 2015-07-21 */

(function(){var a=[].slice;!function(a,b){return"function"==typeof define&&null!=define.amd?define([],b):"object"==typeof("undefined"!=typeof module&&null!==module?module.exports:void 0)?module.exports=b():null!=a?a.xslt=b():void 0}(this,function(){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B;return o=function(a){return/^\s*</.test(a)},n=function(a){return/^\s*<\?/.test(a)},q=function(a){return o(a)&&!n(a)},B=function(a,b){var c;return c='<?xml version="1.0" ',null!=a&&(c+='encoding="'+a+'" '),null!=b&&(c+='standalone="'+b+'" '),c+="?>"},s=function(a,b,c){return B(b,c)+a},w=function(a){return null!=a?a.replace(/\s*<\?xml[^<]+/,""):void 0},k=function(a){var b,c;return b=null!=a?a.match(/^\s*<\?xml\b[^<]+/i):void 0,(null!=b?b.length:void 0)&&(null!=(c=b[0])&&"function"==typeof c.trim?c.trim():void 0)||null},j=function(a,b){var c;return c=new RegExp("\\b"+b+'\\s*=\\s*"([^"]*)"',"g").exec(a),(null!=c?c.length:void 0)>1&&c[1]||null},l=function(a){return j(k(a),"encoding")},m=function(a){return j(k(a),"standalone")},b="undefined"!=typeof ActiveXObject&&null!==ActiveXObject||"ActiveXObject"in window,A=function(){var c,d,e,f;if(f=1<=arguments.length?a.call(arguments,0):[],!b)return null;for(c=0,e=f.length;e>c;c++){d=f[c];try{return new ActiveXObject(d)}catch(g){}}return null},f=function(){var a;if(a=A.apply(null,["Msxml2.FreeThreadedDOMDocument.6.0","Msxml2.FreeThreadedDOMDocument.3.0","Msxml2.FreeThreadedDOMDocument","Microsoft.XMLDOM","Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.5.0","Msxml2.DOMDocument.4.0","Msxml2.DOMDocument.3.0","MSXML2.DOMDocument","MSXML.DOMDocument"]),null!=a)for(a.async=!1;4!==a.readyState;);return a},g=function(){return A.apply(null,["Msxml2.XSLTemplate.6.0","Msxml2.XSLTemplate"])},p=function(){var a,b;return b=document.createElement("xml"),b.src=B(),document.body.appendChild(b),a=b.XMLDocument,document.body.removeChild(b),a},r=function(){var a,b;return a=null,null==a&&(a=f()),"undefined"!=typeof DOMParser&&null!==DOMParser?a:(null==a&&(a=p()),null==a&&(a=null!=(b=document.implementation)&&"function"==typeof b.createDocument?b.createDocument("","test",null):void 0),a)},t=function(a){var b,c,d,e,f;if("string"!=typeof a||!o(a))return null;if(q(a)&&(a=s(a)),b=r(),null!=b&&"loadXML"in b){if(b.loadXML(a),null==b.documentElement||0!==(null!=(c=b.parseError)?c.errorCode:void 0))throw new Error("loadXML error: "+b.parseError)}else if(null!=b&&"load"in b)b.load(a);else if("undefined"!=typeof DOMParser&&null!==DOMParser&&(b=null!=(d=new DOMParser)&&"function"==typeof d.parseFromString?d.parseFromString(a,"text/xml"):void 0,(null!=b&&"function"==typeof b.getElementsByTagName&&null!=(e=b.getElementsByTagName("parsererror"))?e.length:void 0)>0||"parsererror"===(null!=b&&null!=(f=b.documentElement)?f.nodeName:void 0)))throw new Error("Failed to load document from string:\r\n"+b.documentElement.textContent);return b},i=function(a){var b,c;return null==a?null:(c="string"==typeof a?a:null!=(null!=a?a.xml:void 0)?a.xml:"undefined"!=typeof XMLSerializer&&null!==XMLSerializer?null!=(b=new XMLSerializer)&&"function"==typeof b.serializeToString?b.serializeToString(a):void 0:null,(null!=c&&"function"==typeof c.indexOf?c.indexOf("<transformiix::result"):void 0)>=0&&(c=c.substring(c.indexOf(">")+1,c.lastIndexOf("<"))),c)},c=function(a,b){var c,d,e;for(c=0,d=a.length;d>c;c++)if(e=a[c],e===b)return!0;return!1},z=function(a){var b,d,e;return b=null!=a?a.match(/^<([a-zA-Z0-9:\-]+)\s(?:\/(?!>)|[^>\/])*(\/?)>/):void 0,(null!=b?b.length:void 0)?(e=b[0],d=e.match(/xmlns(:[a-zA-Z0-9:\-]+)?="[^"]*"/g),e+a.substr(e.length).replace(/xmlns(:[a-zA-Z0-9:\-]+)?="[^"]*"/g,function(a){return c(d,a)?"":a})):a},v=function(a,b,c){var d,e,f,g,h,i;for(d=/([a-zA-Z0-9:\-]+)\s*=\s*("[^"]*")/g,e={},h=d.exec(a);h;)e[h[1]]=h[0],h=d.exec(a);g="<"+b;for(f in e)i=e[f],g+=" "+i;return g+=(c||"")+">"},y=function(a){return a.replace(/xmlns\s*=\s*""/gi,"")},u=function(a){return a.replace(/xmlns\s*=\s*"[^"]*"/gi,"")},x=function(a){var b,c,d,e;for(e=[],a=a.replace(/xmlns:NS([0-9]+)=""/gi,function(a,b){return e.push(b),""}),b=0,c=e.length;c>b;b++)d=e[b],a=a.replace(new RegExp("NS"+d+":xmlns:","g"),"xmlns:");return a},d=function(a,b){return null!=a?a.replace(/<([a-z_][a-z_0-9:\.\-]*\b)\s*(?:\/(?!>)|[^>\/])*(\/?)>/gi,function(a,c,d){return b.removeNamespacedNamespace&&(a=x(a)),b.removeNullNamespace&&(a=y(a)),b.removeAllNamespaces&&(a=u(a)),b.removeDupAttrs&&(a=v(a,c,d)),a}):void 0},e=function(a){return null!=a?a.replace(/(<([a-z_][a-z_0-9:\.\-]*\b)\s*(?:\/(?!>)|[^>\/])*)><\/\2>/gi,function(a,b){return b+"/>"}):void 0},h={fullDocument:!1,cleanup:!0,xmlHeaderInOutput:!0,normalizeHeader:!0,encoding:"UTF-8",preserveEncoding:!1,collapseEmptyElements:!0,removeDupNamespace:!0,removeDupAttrs:!0,removeNullNamespace:!0,removeAllNamespaces:!1,removeNamespacedNamespace:!0},function(a,c,f){var j,k,n,o,p,r,u,v,x,y,A,B;k={};for(o in h)k[o]=h[o];if(null!=f)for(o in f)k[o]=f[o];return x=t(a),B=t(c),null==x||null==B?!1:("undefined"!=typeof XSLTProcessor&&null!==XSLTProcessor&&null!=("undefined"!=typeof document&&null!==document&&null!=(r=document.implementation)?r.createDocument:void 0)?(p=new XSLTProcessor,p.importStylesheet(B),v=k.fullDocument?p.transformToDocument(x):p.transformToFragment(x,document)):"transformNode"in x?v=x.transformNode(B):b&&(A=g(),A.stylesheet=B,y=A.createProcessor(),y.input=x,y.transform(),v=y.output),n=i(v),k.cleanup&&(j=k.preserveEncoding?l(n)||l(a):k.encoding,u=m(n),(k.normalizeHeader||!k.xmlHeaderInOutput)&&(n=w(n)),k.xmlHeaderInOutput&&q(n)&&(n=s(n,j,u)),n=d(n,k),k.removeDupNamespace&&(n=z(n)),k.collapseEmptyElements&&(n=e(n))),n)}})}).call(this);
//# sourceMappingURL=xslt.min.js.map