/*! xslt v0.8.1+master.0.b0c145bdeea2 | (c) 2017 Justin Murray | built on 2017-05-17 */

(function(){var e=[].slice,n=[].indexOf||function(e){for(var n=0,r=this.length;n<r;n++)if(n in this&&this[n]===e)return n;return-1};!function(e,n){"function"==typeof define&&null!=define.amd?define([],function(){return n(e)}):"object"==typeof("undefined"!=typeof module&&null!==module?module.exports:void 0)?module.exports=n(e):null!=e&&(e.xslt=n(e))}(this,function(r){var t,l,u,o,i,a,c,s,m,d,f,p,v,x,g,M,D,h,y,E,O,N,X,L,S,T,w,z,b,F,H,P;return L={xmlNode:function(){return/<([a-z_][a-z_0-9:\.\-]*\b)\s*(?:\/(?!>)|[^>\/])*(\/?)>/i},xmlLike:function(){return/^\s*</},xmlHeader:function(){return/^\s*<\?xml\b[^<]+/i},namespaces:function(){return/\bxmlns(?::([a-z0-9:\-]+))?\s*=\s*"([^"]*)"/gi}},h=function(e){return L.xmlLike().test(e)},D=function(e){return L.xmlHeader().test(e)},O=function(e){return h(e)&&!D(e)},P=function(e,n){var r;return r='<?xml version="1.0" ',null!=e&&(r+='encoding="'+e+'" '),null!=n&&(r+='standalone="'+n+'" '),r+="?>"},X=function(e,n,r){return P(n,r)+e},z=function(e){return null!=e?e.replace(L.xmlHeader(),""):void 0},x=function(e){var n,r;return n=null!=e?e.match(L.xmlHeader()):void 0,(null!=n?n.length:void 0)&&(null!=(r=n[0])&&"function"==typeof r.trim?r.trim():void 0)||null},p=function(e,n){var r;return r=new RegExp("\\b"+n+'\\s*=\\s*"([^"]*)"',"g").exec(e),(null!=r?r.length:void 0)>1&&r[1]||null},g=function(e){return p(x(e),"encoding")},M=function(e){return p(x(e),"standalone")},l="undefined"!=typeof ActiveXObject&&null!==ActiveXObject||"ActiveXObject"in r,H=function(){var n,r,t,u;if(u=1<=arguments.length?e.call(arguments,0):[],!l)return null;for(n=0,t=u.length;n<t;n++){r=u[n];try{return new ActiveXObject(r)}catch(e){}}return null},c=function(){var e;if(null!=(e=H.apply(null,["Msxml2.FreeThreadedDOMDocument.6.0","Msxml2.FreeThreadedDOMDocument.3.0","Msxml2.FreeThreadedDOMDocument","Microsoft.XMLDOM","Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.5.0","Msxml2.DOMDocument.4.0","Msxml2.DOMDocument.3.0","MSXML2.DOMDocument","MSXML.DOMDocument"])))for(e.async=!1;4!==e.readyState;);return e},s=function(){return H.apply(null,["Msxml2.XSLTemplate.6.0","Msxml2.XSLTemplate"])},E=function(){var e,n;return n=document.createElement("xml"),n.src=P(),document.body.appendChild(n),e=n.XMLDocument,document.body.removeChild(n),e},N=function(){var e,n;return null==(e=null)&&(e=c()),"undefined"!=typeof DOMParser&&null!==DOMParser?e:(null==e&&(e=E()),null==e&&(e=null!=(n=document.implementation)&&"function"==typeof n.createDocument?n.createDocument("","test",null):void 0),e)},S=function(e){var n,r,t,l,u;if("string"!=typeof e||!h(e))return null;if(O(e)&&(e=X(e)),null!=(n=N())&&"loadXML"in n){if(n.loadXML(e),null==n.documentElement||0!==(null!=(r=n.parseError)?r.errorCode:void 0))throw new Error("loadXML error: "+n.parseError)}else if(null!=n&&"load"in n)n.load(e);else if("undefined"!=typeof DOMParser&&null!==DOMParser&&(n=null!=(t=new DOMParser)&&"function"==typeof t.parseFromString?t.parseFromString(e,"text/xml"):void 0,(null!=n&&"function"==typeof n.getElementsByTagName&&null!=(l=n.getElementsByTagName("parsererror"))?l.length:void 0)>0||"parsererror"===(null!=n&&null!=(u=n.documentElement)?u.nodeName:void 0)))throw new Error("Failed to load document from string:\r\n"+n.documentElement.textContent);return n},d=function(e){var n,r;return null==e?null:(r="string"==typeof e?e:null!=(null!=e?e.xml:void 0)?e.xml:"undefined"!=typeof XMLSerializer&&null!==XMLSerializer?null!=(n=new XMLSerializer)&&"function"==typeof n.serializeToString?n.serializeToString(e):void 0:null,(null!=r&&"function"==typeof r.indexOf?r.indexOf("<transformiix::result"):void 0)>=0&&(r=r.substring(r.indexOf(">")+1,r.lastIndexOf("<"))),r)},v=function(e,n){var r,t,l,u,o,i,a,c;for(r=/\s([a-z0-9:\-]+)\s*=\s*("([^"]*)"|'([^']*)')/gi,t={};a=r.exec(e);)a[0],o=a[1],i=a[2],l=a[3],u=a[4],c={outer:i,inner:l||u},("function"==typeof n?n(o,c):void 0)||(t[o]=c);return t},u=function(e,n,r){var t,l;null==n&&(n={}),null==r&&(r=""),t="<"+e;for(l in n)t+=" "+l+"="+n[l].outer;return t+=r+">"},o=function(e,r,t,l){var o,i,a,c,s,m,d;i=v(e,function(e,r){var t;return/^xmlns/.test(e)&&(t=r.inner,n.call(l.excludedNamespaceUris,t)>=0)}),s=l.includeNamespaces;for(c in s)m=s[c],n.call(function(){var e;e=[];for(a in i)d=i[a],e.push(d.inner);return e}(),m)<0&&(o="xmlns",c.length&&(o+=":"+c),i[o]={outer:'"'+m+'"',inner:m});return u(r,i,t)},w=function(e,r,t,l){var o;return null==l&&(l=[]),o=v(e,function(e,r){var t;return t=r.inner,n.call(l,t)>=0}),u(r,o,t)},F=function(e){return e.replace(/xmlns\s*=\s*""/gi,"")},T=function(e){return e.replace(L.namespaces(),"")},b=function(e){var n,r,t,l;for(l=[],e=e.replace(/xmlns:NS([0-9]+)=""/gi,function(e,n){return l.push(n),""}),n=0,r=l.length;n<r;n++)t=l[n],e=e.replace(new RegExp("NS"+t+":xmlns:","g"),"xmlns:");return e},i=function(e,n){var r,t;return t=[],r=!0,null!=e?e.replace(new RegExp(L.xmlNode().source,"gi"),function(e,l,u){var i,a,c,s,m,d,f;if(n.removeNamespacedNamespace&&(e=b(e)),n.removeNullNamespace&&(e=F(e)),n.removeAllNamespaces&&(e=T(e)),r)for(r=!1,e=o(e,l,u,n),m=v(e,function(e){return!/^xmlns/.test(e)}),t=function(){var e;e=[];for(c in m)f=m[c],e.push(f.inner);return e}(),i=0,a=(s=n.excludedNamespaceUris).length;i<a;i++)d=s[i],t.push(d);else(n.removeDupAttrs||n.removeDupNamespace)&&(e=w(e,l,u,t));return e}):void 0},a=function(e){return null!=e?e.replace(/<(([a-z_][a-z_0-9:\.\-]*\b)\s*(?:\/(?!>)|[^>\/])*)><\/\2>/gi,function(e,n){return"<"+n+"/>"}):void 0},f=function(e){return null!=e?e.replace(/<(([a-z_][a-z_0-9:\.\-]*\b)\s*(?:\/(?!>)|[^>\/])*)\/>/gi,function(e,n,r){return"<"+n+"></"+r+">"}):void 0},m={fullDocument:!1,cleanup:!0,xmlHeaderInOutput:!0,normalizeHeader:!0,encoding:"UTF-8",preserveEncoding:!1,collapseEmptyElements:!0,expandCollapsedElements:!1,removeDupNamespace:!0,removeDupAttrs:!0,removeNullNamespace:!0,removeAllNamespaces:!1,removeNamespacedNamespace:!0,includeNamespaces:{},excludedNamespaceUris:[]},y=function(e){var n,r;n={};for(r in m)n[r]=m[r];if(null!=e)for(r in e)n[r]=e[r];return n},t=function(e,n,r){var u,o,i,a,c,m,f,p,v;if(u=y(r),null==(m=S(e)))throw new Error("Failed to load the XML document");if(null==(v=S(n)))throw new Error("Failed to load the XSLT document");return"undefined"!=typeof XSLTProcessor&&null!==XSLTProcessor&&null!=("undefined"!=typeof document&&null!==document&&null!=(a=document.implementation)?a.createDocument:void 0)?((i=new XSLTProcessor).importStylesheet(v),c=u.fullDocument?i.transformToDocument(m):i.transformToFragment(m,document)):"transformNode"in m?c=m.transformNode(v):l&&((p=s()).stylesheet=v,(f=p.createProcessor()).input=m,f.transform(),c=f.output),o=d(c),u.preserveEncoding&&(u.encoding=g(o)||g(e)||u.encoding),u.cleanup&&(o=t.cleanup(o,u)),o},t.cleanup=function(e,n){var r,t;if((r=y(n)).cleanup)return r.preserveEncoding&&(r.encoding=g(e)||r.encoding),t=M(e),!r.normalizeHeader&&r.xmlHeaderInOutput||(e=z(e)),r.xmlHeaderInOutput&&O(e)&&(e=X(e,r.encoding,t)),e=i(e,r),r.collapseEmptyElements&&!r.expandCollapsedElements&&(e=a(e)),r.expandCollapsedElements&&!r.collapseEmptyElements&&(e=f(e)),e},t})}).call(this);
//# sourceMappingURL=xslt.min.js.map