/*! xslt v0.8.0+master.0.a112fb6468a6 | (c) 2017 Justin Murray | built on 2017-04-14 */

(function(){var a=[].slice,b=[].indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(b in this&&this[b]===a)return b;return-1};!function(a,b){"function"==typeof define&&null!=define.amd?define([],b):"object"==typeof("undefined"!=typeof module&&null!==module?module.exports:void 0)?module.exports=b():null!=a&&(a.xslt=b())}(this,function(){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H;return z={xmlNode:function(){return/<([a-z_][a-z_0-9:\.\-]*\b)\s*(?:\/(?!>)|[^>\/])*(\/?)>/i},xmlLike:function(){return/^\s*</},xmlHeader:function(){return/^\s*<\?xml\b[^<]+/i},namespaces:function(){return/\bxmlns(?::([a-z0-9:\-]+))?\s*=\s*"([^"]*)"/gi}},t=function(a){return z.xmlLike().test(a)},s=function(a){return z.xmlHeader().test(a)},w=function(a){return t(a)&&!s(a)},H=function(a,b){var c;return c='<?xml version="1.0" ',null!=a&&(c+='encoding="'+a+'" '),null!=b&&(c+='standalone="'+b+'" '),c+="?>"},y=function(a,b,c){return H(b,c)+a},D=function(a){return null!=a?a.replace(z.xmlHeader(),""):void 0},p=function(a){var b,c;return b=null!=a?a.match(z.xmlHeader()):void 0,(null!=b?b.length:void 0)&&(null!=(c=b[0])&&"function"==typeof c.trim?c.trim():void 0)||null},n=function(a,b){var c;return c=new RegExp("\\b"+b+'\\s*=\\s*"([^"]*)"',"g").exec(a),(null!=c?c.length:void 0)>1&&c[1]||null},q=function(a){return n(p(a),"encoding")},r=function(a){return n(p(a),"standalone")},d="undefined"!=typeof ActiveXObject&&null!==ActiveXObject||"ActiveXObject"in window,G=function(){var b,c,e,f;if(f=1<=arguments.length?a.call(arguments,0):[],!d)return null;for(b=0,e=f.length;b<e;b++){c=f[b];try{return new ActiveXObject(c)}catch(a){}}return null},i=function(){var a;if(null!=(a=G.apply(null,["Msxml2.FreeThreadedDOMDocument.6.0","Msxml2.FreeThreadedDOMDocument.3.0","Msxml2.FreeThreadedDOMDocument","Microsoft.XMLDOM","Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.5.0","Msxml2.DOMDocument.4.0","Msxml2.DOMDocument.3.0","MSXML2.DOMDocument","MSXML.DOMDocument"])))for(a.async=!1;4!==a.readyState;);return a},j=function(){return G.apply(null,["Msxml2.XSLTemplate.6.0","Msxml2.XSLTemplate"])},v=function(){var a,b;return b=document.createElement("xml"),b.src=H(),document.body.appendChild(b),a=b.XMLDocument,document.body.removeChild(b),a},x=function(){var a,b;return a=null,null==a&&(a=i()),"undefined"!=typeof DOMParser&&null!==DOMParser?a:(null==a&&(a=v()),null==a&&(a=null!=(b=document.implementation)&&"function"==typeof b.createDocument?b.createDocument("","test",null):void 0),a)},A=function(a){var b,c,d,e,f;if("string"!=typeof a||!t(a))return null;if(w(a)&&(a=y(a)),null!=(b=x())&&"loadXML"in b){if(b.loadXML(a),null==b.documentElement||0!==(null!=(c=b.parseError)?c.errorCode:void 0))throw new Error("loadXML error: "+b.parseError)}else if(null!=b&&"load"in b)b.load(a);else if("undefined"!=typeof DOMParser&&null!==DOMParser&&(b=null!=(d=new DOMParser)&&"function"==typeof d.parseFromString?d.parseFromString(a,"text/xml"):void 0,(null!=b&&"function"==typeof b.getElementsByTagName&&null!=(e=b.getElementsByTagName("parsererror"))?e.length:void 0)>0||"parsererror"===(null!=b&&null!=(f=b.documentElement)?f.nodeName:void 0)))throw new Error("Failed to load document from string:\r\n"+b.documentElement.textContent);return b},l=function(a){var b,c;return null==a?null:(c="string"==typeof a?a:null!=(null!=a?a.xml:void 0)?a.xml:"undefined"!=typeof XMLSerializer&&null!==XMLSerializer?null!=(b=new XMLSerializer)&&"function"==typeof b.serializeToString?b.serializeToString(a):void 0:null,(null!=c&&"function"==typeof c.indexOf?c.indexOf("<transformiix::result"):void 0)>=0&&(c=c.substring(c.indexOf(">")+1,c.lastIndexOf("<"))),c)},o=function(a,b){var c,d,e,f,g,h,i,j;for(c=/\s([a-z0-9:\-]+)\s*=\s*("([^"]*)"|'([^']*)')/gi,d={};i=c.exec(a);)i[0],g=i[1],h=i[2],e=i[3],f=i[4],j={outer:h,inner:e||f},("function"==typeof b?b(g,j):void 0)||(d[g]=j);return d},e=function(a,b,c){var d,e,f;null==b&&(b={}),null==c&&(c=""),d="<"+a;for(e in b)f=b[e],d+=" "+e+"="+f.outer;return d+=c+">"},f=function(a,c,d,f){var g,h,i,j,k,l,m;h=o(a,function(a,c){var d;return/^xmlns/.test(a)&&(d=c.inner,b.call(f.excludedNamespaceUris,d)>=0)}),k=f.includeNamespaces;for(j in k)l=k[j],b.call(function(){var a;a=[];for(i in h)m=h[i],a.push(m.inner);return a}(),l)<0&&(g="xmlns",j.length&&(g+=":"+j),h[g]={outer:'"'+l+'"',inner:l});return e(c,h,d)},C=function(a,c,d,f){var g;return null==f&&(f=[]),g=o(a,function(a,c){var d;return d=c.inner,b.call(f,d)>=0}),e(c,g,d)},F=function(a){return a.replace(/xmlns\s*=\s*""/gi,"")},B=function(a){return a.replace(z.namespaces(),"")},E=function(a){var b,c,d,e;for(e=[],a=a.replace(/xmlns:NS([0-9]+)=""/gi,function(a,b){return e.push(b),""}),b=0,c=e.length;b<c;b++)d=e[b],a=a.replace(new RegExp("NS"+d+":xmlns:","g"),"xmlns:");return a},g=function(a,b){var c,d;return d=[],c=!0,null!=a?a.replace(new RegExp(z.xmlNode().source,"gi"),function(a,e,g){var h,i,j,k,l,m,n;if(b.removeNamespacedNamespace&&(a=E(a)),b.removeNullNamespace&&(a=F(a)),b.removeAllNamespaces&&(a=B(a)),c)for(c=!1,a=f(a,e,g,b),l=o(a,function(a){return!/^xmlns/.test(a)}),d=function(){var a;a=[];for(j in l)n=l[j],a.push(n.inner);return a}(),k=b.excludedNamespaceUris,h=0,i=k.length;h<i;h++)m=k[h],d.push(m);else(b.removeDupAttrs||b.removeDupNamespace)&&(a=C(a,e,g,d));return a}):void 0},h=function(a){return null!=a?a.replace(/<(([a-z_][a-z_0-9:\.\-]*\b)\s*(?:\/(?!>)|[^>\/])*)><\/\2>/gi,function(a,b){return"<"+b+"/>"}):void 0},m=function(a){return null!=a?a.replace(/<(([a-z_][a-z_0-9:\.\-]*\b)\s*(?:\/(?!>)|[^>\/])*)\/>/gi,function(a,b,c){return"<"+b+"></"+c+">"}):void 0},k={fullDocument:!1,cleanup:!0,xmlHeaderInOutput:!0,normalizeHeader:!0,encoding:"UTF-8",preserveEncoding:!1,collapseEmptyElements:!0,expandCollapsedElements:!1,removeDupNamespace:!0,removeDupAttrs:!0,removeNullNamespace:!0,removeAllNamespaces:!1,removeNamespacedNamespace:!0,includeNamespaces:{},excludedNamespaceUris:[]},u=function(a){var b,c;b={};for(c in k)b[c]=k[c];if(null!=a)for(c in a)b[c]=a[c];return b},c=function(a,b,e){var f,g,h,i,k,m,n,o,p;if(f=u(e),null==(m=A(a)))throw new Error("Failed to load the XML document");if(null==(p=A(b)))throw new Error("Failed to load the XSLT document");return"undefined"!=typeof XSLTProcessor&&null!==XSLTProcessor&&null!=("undefined"!=typeof document&&null!==document&&null!=(i=document.implementation)?i.createDocument:void 0)?(h=new XSLTProcessor,h.importStylesheet(p),k=f.fullDocument?h.transformToDocument(m):h.transformToFragment(m,document)):"transformNode"in m?k=m.transformNode(p):d&&(o=j(),o.stylesheet=p,n=o.createProcessor(),n.input=m,n.transform(),k=n.output),g=l(k),f.preserveEncoding&&(f.encoding=q(g)||q(a)||f.encoding),f.cleanup&&(g=c.cleanup(g,f)),g},c.cleanup=function(a,b){var c,d;if(c=u(b),c.cleanup)return c.preserveEncoding&&(c.encoding=q(a)||c.encoding),d=r(a),!c.normalizeHeader&&c.xmlHeaderInOutput||(a=D(a)),c.xmlHeaderInOutput&&w(a)&&(a=y(a,c.encoding,d)),a=g(a,c),c.collapseEmptyElements&&!c.expandCollapsedElements&&(a=h(a)),c.expandCollapsedElements&&!c.collapseEmptyElements&&(a=m(a)),a},c})}).call(this);
//# sourceMappingURL=xslt.min.js.map