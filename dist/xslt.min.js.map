{"version":3,"sources":["xslt.js"],"names":["slice","indexOf","item","i","l","this","length","root","factory","define","amd","module","exports","xslt","$xslt","activeXSupported","buildElementString","cleanRootNamespaces","cleanupXmlNodes","collapseEmptyElements","createDomDoc","createXSLTemplate","defaults","docToStr","expandCollapsedElements","getAttrVal","getAttributes","getHeader","getHeaderEncoding","getHeaderStandalone","hasXmlHeader","isXml","loadOptions","manualCreateElement","needsHeader","newDocument","prependHeader","regex","strToDoc","stripAllNamespaces","stripDuplicateAttributes","stripHeader","stripNamespacedNamespace","stripNullNamespaces","tryCreateActiveX","xmlHeader","xmlNode","xmlLike","namespaces","str","test","encoding","standalone","replace","match","ref","trim","node","attrName","RegExp","exec","ActiveXObject","window","id","len","objIds","arguments","call","undefined","d","apply","async","readyState","res","xml","document","createElement","src","body","appendChild","XMLDocument","removeChild","DOMParser","implementation","createDocument","ref1","ref2","ref3","loadXML","documentElement","parseError","errorCode","Error","load","parseFromString","getElementsByTagName","nodeName","textContent","doc","XMLSerializer","serializeToString","substring","lastIndexOf","excludeFn","attrRegex","attrs","innerA","innerB","name","outer","parts","val","inner","closeTag","elStr","opt","attName","ns","uri","excludedNamespaceUris","includeNamespaces","results","push","blacklist","num","nums","isRootNode","namespaceBlacklist","source","rootNamespaces","removeNamespacedNamespace","removeNullNamespace","removeAllNamespaces","removeDupAttrs","removeDupNamespace","all","element","fullDocument","cleanup","xmlHeaderInOutput","normalizeHeader","preserveEncoding","options","p","xmlStr","xsltStr","outStr","processor","trans","xmlDoc","xslProc","xsltDoc","XSLTProcessor","importStylesheet","transformToDocument","transformToFragment","transformNode","stylesheet","createProcessor","input","transform","output"],"mappings":"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","file":"xslt.min.js"}