{"version":3,"file":"xslt.min.js","sources":["xslt.js"],"names":["slice","root","factory","define","amd","module","exports","xslt","this","activeXSupported","arrayContains","cleanupXmlNodes","collapseEmptyElements","createDomDoc","createXSLTemplate","defaults","docToStr","getAttrVal","getHeader","getHeaderEncoding","getHeaderStandalone","hasXmlHeader","isXml","manualCreateElement","needsHeader","newDocument","prependHeader","strToDoc","stripAllNamespaces","stripDuplicateAttributes","stripHeader","stripNamespacedNamespace","stripNullNamespaces","stripRedundantNamespaces","tryCreateActiveX","xmlHeader","str","test","encoding","standalone","replace","match","ref","length","trim","node","attrName","RegExp","exec","ActiveXObject","window","i","id","len","objIds","arguments","call","_error","d","apply","async","readyState","res","xml","document","createElement","src","body","appendChild","XMLDocument","removeChild","DOMParser","implementation","createDocument","ref1","ref2","ref3","loadXML","documentElement","parseError","errorCode","Error","load","parseFromString","getElementsByTagName","nodeName","textContent","doc","XMLSerializer","serializeToString","indexOf","substring","lastIndexOf","arr","val","v","matches","rootNamespaces","rootNode","substr","ns","closeTag","attrRegex","collection","key","newStr","parts","num","nums","push","opt","removeNamespacedNamespace","removeNullNamespace","removeAllNamespaces","removeDupAttrs","all","element","fullDocument","cleanup","xmlHeaderInOutput","normalizeHeader","preserveEncoding","removeDupNamespace","xmlStr","xsltStr","options","outStr","p","processor","trans","xmlDoc","xslProc","xsltDoc","XSLTProcessor","importStylesheet","transformToDocument","transformToFragment","transformNode","stylesheet","createProcessor","input","transform","output"],"mappings":"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"}