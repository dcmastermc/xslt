{"version":3,"file":"xslt.min.js","sources":["xslt.js"],"names":["slice","root","factory","define","amd","module","exports","xslt","this","activeXSupported","arrayContains","cleanupXmlNodes","createDomDoc","createXSLTemplate","defaults","docToStr","hasXmlHeader","isXml","manualCreateElement","needsHeader","newDocument","prependHeader","strToDoc","stripAllNamespaces","stripDuplicateAttributes","stripHeader","stripNamespacedNamespace","stripNullNamespaces","stripRedundantNamespaces","tryCreateActiveX","xmlHeader","str","test","replace","ActiveXObject","window","i","id","len","objIds","arguments","length","call","_error","d","apply","async","readyState","res","xml","document","createElement","src","body","appendChild","XMLDocument","removeChild","ref","DOMParser","implementation","createDocument","ref1","ref2","ref3","loadXML","documentElement","parseError","errorCode","Error","load","parseFromString","getElementsByTagName","nodeName","textContent","doc","XMLSerializer","serializeToString","indexOf","substring","lastIndexOf","arr","val","v","matches","rootNamespaces","rootNode","match","substr","ns","node","closeTag","attrRegex","collection","key","newStr","parts","exec","num","nums","push","RegExp","opt","removeNamespacedNamespace","removeNullNamespace","removeAllNamespaces","removeDupAttrs","fullDocument","xmlHeaderInOutput","cleanup","removeDupNamespace","xmlStr","xsltStr","options","outStr","p","processor","trans","xmlDoc","xslProc","xsltDoc","XSLTProcessor","importStylesheet","transformToDocument","transformToFragment","transformNode","stylesheet","createProcessor","input","transform","output"],"mappings":"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"}