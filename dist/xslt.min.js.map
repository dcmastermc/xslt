{"version":3,"sources":["xslt.js"],"names":["slice","indexOf","item","i","l","this","length","root","factory","define","amd","module","exports","xslt","$xslt","activeXSupported","buildElementString","cleanRootNamespaces","cleanupXmlNodes","collapseEmptyElements","createDomDoc","createXSLTemplate","defaults","docToStr","expandCollapsedElements","extractNamespaces","getAttrVal","getAttributes","getHeader","getHeaderEncoding","getHeaderStandalone","hasXmlHeader","isXml","loadOptions","manualCreateElement","needsHeader","newDocument","prependHeader","regex","strToDoc","stripAllNamespaces","stripDuplicateAttributes","stripHeader","stripNamespacedNamespace","stripNullNamespaces","tryCreateActiveX","xmlHeader","xmlNode","xmlLike","namespaces","str","test","encoding","standalone","replace","match","ref","trim","node","attrName","RegExp","exec","ActiveXObject","id","len","objIds","arguments","call","undefined","d","apply","async","readyState","res","xml","document","createElement","src","body","appendChild","XMLDocument","removeChild","DOMParser","implementation","createDocument","ref1","ref2","ref3","loadXML","documentElement","parseError","errorCode","Error","load","parseFromString","getElementsByTagName","nodeName","textContent","doc","XMLSerializer","serializeToString","substring","lastIndexOf","excludeFn","attrRegex","attrs","innerA","innerB","name","outer","parts","val","inner","closeTag","elStr","opt","attName","ns","uri","excludedNamespaceUris","includeNamespaces","results","push","blacklist","num","nums","all","key","isRootNode","namespaceBlacklist","source","rootNamespaces","removeNamespacedNamespace","removeNullNamespace","removeAllNamespaces","removeDupAttrs","removeDupNamespace","element","fullDocument","cleanup","xmlHeaderInOutput","normalizeHeader","preserveEncoding","moveNamespacesToRoot","options","p","xmlStr","xsltStr","outStr","processor","trans","xmlDoc","xslProc","xsltDoc","XSLTProcessor","importStylesheet","transformToDocument","transformToFragment","transformNode","stylesheet","createProcessor","input","transform","output"],"mappings":"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","file":"xslt.min.js"}