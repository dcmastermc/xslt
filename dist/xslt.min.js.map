{"version":3,"file":"xslt.min.js","sources":["xslt.js"],"names":["slice","indexOf","item","i","l","this","length","root","factory","define","amd","module","exports","xslt","$xslt","activeXSupported","buildElementString","cleanRootNamespaces","cleanupXmlNodes","collapseEmptyElements","createDomDoc","createXSLTemplate","defaults","docToStr","getAttrVal","getAttributes","getHeader","getHeaderEncoding","getHeaderStandalone","hasXmlHeader","isXml","loadOptions","manualCreateElement","needsHeader","newDocument","prependHeader","regex","strToDoc","stripAllNamespaces","stripDuplicateAttributes","stripHeader","stripNamespacedNamespace","stripNullNamespaces","tryCreateActiveX","xmlHeader","xmlNode","xmlLike","namespaces","str","test","encoding","standalone","replace","match","ref","trim","node","attrName","RegExp","exec","ActiveXObject","window","id","len","objIds","arguments","call","_error","d","apply","async","readyState","res","xml","document","createElement","src","body","appendChild","XMLDocument","removeChild","DOMParser","implementation","createDocument","ref1","ref2","ref3","loadXML","documentElement","parseError","errorCode","Error","load","parseFromString","getElementsByTagName","nodeName","textContent","doc","XMLSerializer","serializeToString","substring","lastIndexOf","excludeFn","all","attrRegex","collection","name","parts","val","attrs","closeTag","elStr","opt","attName","ns","uri","excludedNamespaceUris","includeNamespaces","results","push","blacklist","num","nums","isRootNode","rootNamespaces","source","removeNamespacedNamespace","removeNullNamespace","removeAllNamespaces","removeDupAttrs","removeDupNamespace","element","fullDocument","cleanup","xmlHeaderInOutput","normalizeHeader","preserveEncoding","options","p","xmlStr","xsltStr","outStr","processor","trans","xmlDoc","xslProc","xsltDoc","XSLTProcessor","importStylesheet","transformToDocument","transformToFragment","transformNode","stylesheet","createProcessor","input","transform","output"],"mappings":"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"}