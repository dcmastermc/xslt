{"version":3,"sources":["xslt.js"],"names":["slice","indexOf","item","i","l","this","length","root","factory","define","amd","module","exports","xslt","$xslt","activeXSupported","buildElementString","cleanRootNamespaces","cleanupXmlNodes","collapseEmptyElements","createDomDoc","createXSLTemplate","defaults","docToStr","expandCollapsedElements","getAttrVal","getAttributes","getHeader","getHeaderEncoding","getHeaderStandalone","hasXmlHeader","isXml","loadOptions","manualCreateElement","needsHeader","newDocument","prependHeader","regex","strToDoc","stripAllNamespaces","stripDuplicateAttributes","stripHeader","stripNamespacedNamespace","stripNullNamespaces","tryCreateActiveX","xmlHeader","xmlNode","xmlLike","namespaces","str","test","encoding","standalone","replace","match","ref","trim","node","attrName","RegExp","exec","ActiveXObject","id","len","objIds","arguments","call","undefined","d","apply","async","readyState","res","xml","document","createElement","src","body","appendChild","XMLDocument","removeChild","DOMParser","implementation","createDocument","ref1","ref2","ref3","loadXML","documentElement","parseError","errorCode","Error","load","parseFromString","getElementsByTagName","nodeName","textContent","doc","XMLSerializer","serializeToString","substring","lastIndexOf","excludeFn","attrRegex","attrs","innerA","innerB","name","outer","parts","val","inner","closeTag","elStr","opt","attName","ns","uri","excludedNamespaceUris","includeNamespaces","results","push","blacklist","num","nums","isRootNode","namespaceBlacklist","source","rootNamespaces","removeNamespacedNamespace","removeNullNamespace","removeAllNamespaces","removeDupAttrs","removeDupNamespace","all","element","fullDocument","cleanup","xmlHeaderInOutput","normalizeHeader","preserveEncoding","options","p","xmlStr","xsltStr","outStr","processor","trans","xmlDoc","xslProc","xsltDoc","XSLTProcessor","importStylesheet","transformToDocument","transformToFragment","transformNode","stylesheet","createProcessor","input","transform","output"],"mappings":"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","file":"xslt.min.js"}